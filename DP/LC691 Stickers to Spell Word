class Solution:
    def minStickers(self, stickers: List[str], target: str) -> int:
        from collections import Counter
        from functools import lru_cache

        # æŠŠæ‰€æœ‰è´´çº¸é¢„å¤„ç†æˆé¢‘ç‡è¡¨ï¼ˆæ¯ä¸ª sticker æ˜¯ Counterï¼‰
        sticker_counts = [Counter(sticker) for sticker in stickers]

        @lru_cache(None)
        def dfs(tgt: str) -> int:
            if tgt == "":
                return 0
            tcount = Counter(tgt)
            res = float('inf')

            for sticker in sticker_counts:
                # ğŸ” ä¼˜åŒ–ï¼šå¦‚æœè¿™ä¸ªè´´çº¸æ²¡æœ‰ target çš„é¦–å­—æ¯ï¼Œç›´æ¥è·³è¿‡
                if sticker[tgt[0]] == 0:
                    continue

                # è®¡ç®—å‰©ä¸‹è¦å‡‘çš„éƒ¨åˆ†
                new_t = ""
                for ch in tcount:
                    remain = tcount[ch] - sticker[ch]
                    if remain > 0:
                        new_t += ch * remain
                sub_res = dfs(new_t)
                if sub_res != float('inf'):
                    res = min(res, sub_res + 1)

            return res

        ans = dfs(target)
        return ans if ans != float('inf') else -1
